通过阅读本教程，我们将学习如何编写一个用于拍卖 ERC721 代币 (即 NFT) 的智能合约。
建议在阅读本教程之前，先完成对 "Solidity NFT Course" 的学习

在下面几个小节里，我们将逐步构建起一个智能合约，允许卖方能够将 NFT 拍卖给出价最高的买方。该合约的参考代码由 <a href="https://solidity-by-example.org/app/english-auction/" target="_blank">Solidity by Example</a> 项目提供。在第一小节中，我们会创建一个接口（Interface）、一些必要的状态变量以及合约的构造函数。

### 接口
为了与 ERC721 代币交互，我们需要在合约种创建几个接口。第 5 行的 `safeTransferFrom` 和第 11 行的 `transferFrom` 两个函数。

### EnglishAuction
我们定义了四个事件：`Start`，`Bid`，`Withdraw` 和 `End`（第 19-22 行）以便记录下重要的交互过程。

随后，我们会定义一些状态变量，将所有与拍卖相关的必要信息存储在链上

为我们想要拍卖的 NFT 创建两个状态变量。变量 `nft`（第 24 行）用于指向 NFT 这个合约，在得知合约 IERC721 的接口和该合约的地址时，就可以调用该合约内的函数
变量 `nftId`（第 25 行）用于保存我们的 NFT 合约中待拍卖的代币 id

接下来，我们需要一个变量 `seller`（第 27 行）用于存储拍卖 NFT 的人的地址。我们希望我们的 NFT 合约能够在拍卖完成后向卖家发送此次拍卖所得的收益，所以这个变量的类型是 `address payable`。

我们创建一个状态变量 `endAt`（第 28 行）用来存储拍卖结束的日期。我们还创建了两个布尔类型的变量：`started`（第 29 行）和 `ended`（第 30 行），用于跟踪拍卖是已经开始了还是结束了

我们创建一个变量 `highestBidder`（第 32 行），用于存储出价最高的人的地址。拍卖结束后，我们将向出价最高的人发送 NFT。

最后，我们需要一个 uint 类型的变量 `highestBid` 用于存储当前的最高出价，以及一个 mapping 映射 `bids` 用来记录每个账户地址给出的总出价，更多详细内容在下一小节讨论

### 构造函数
拍卖者在部署该合约时需要提供以下参数：他们所拍卖的 NFT 合约的地址 `_nft`（第 37 行），他们想要拍卖的 NFT 的代币 id：`_nftId`（第 38 行），以及此次拍卖的起拍价 `_startingBid`（第 39 行）。

一旦合约部署，`_nft`（第 37 行）、`_nftId`（第 38 行）、`_startingBid`（第 39 行）这些状态变量就会根据传入的参数被赋值。合约会自动读取 msg.sender 的值，并将其赋予变量 `seller`（第 44 行）以存储部署该合约的卖家地址。

在下一个小节种，我们将允许拍卖者去启动拍卖，并让买家给出竞价

## ⭐️ 练习实操
我们将通过接下来的实操部分来熟悉如何在 Remix 提供的 JavaScript 虚拟环境下测试你的智能合约

TODO: 对齐 “3.3 ERC721 - Token Creation” 的翻译
1. 部署一个 NFT 合约。你可以使用我们在 "3.3 ERC721 - Token Creation" 小节里创建的合约.

2. 部署这次的 EnglishAuction 合约。将参数 `_nft` 设置为上一步部署的 NFT 合约的地址，将参数 `_nftId` 设置为 0，参数 `_startingBid` 设为 1。

3. 在成功部署合约后，测试合约中的函数例如 `nft`, `nftId`, and `started` 是否符合预期。